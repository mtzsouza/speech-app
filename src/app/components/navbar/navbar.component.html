<nav class="sticky top-0 z-50 flex items-center justify-between h-16 sm:h-18 px-4 md:px-8 bg-white border-b border-slate-100 shadow-sm transition-colors duration-200">
    <!-- Logo Section -->
    <a class="flex items-center gap-3 min-w-[140px] md:min-w-[180px]" href="/">
        <div class="flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 shadow-md transition-transform duration-200 hover:-translate-y-0.5">
            <img src="/assets/home-icon.png" alt="SpeechApp Logo" class="w-3/5 h-auto brightness-0 invert">
        </div>
        <span class="hidden sm:block text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent tracking-tight">SpeechApp</span>
    </a>

    <!-- Navigation Links -->
    @if (this.currentPage != "/") {
        <div class="absolute left-1/2 -translate-x-1/2 flex items-center gap-5 md:gap-8">
            <a href="/soundboard" [class.active]="currentPage === '/soundboard'" class="text-base font-medium text-slate-700 hover:text-blue-600 px-2 py-2 relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:rounded after:bg-blue-600 after:transition-all after:duration-200 after:w-0 hover:after:w-full [&.active]:text-blue-600 [&.active]:after:w-full">
                {{ this.userLanguage.navbar.soundboard }}
            </a>
            <a href="/games" [class.active]="currentPage === '/games'" class="text-base font-medium text-slate-700 hover:text-emerald-600 px-2 py-2 relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:rounded after:bg-emerald-600 after:transition-all after:duration-200 after:w-0 hover:after:w-full [&.active]:text-emerald-600 [&.active]:after:w-full">
                {{ this.userLanguage.navbar.games }}
            </a>
            <a href="/stories" [class.active]="currentPage === '/stories'" class="text-base font-medium text-slate-700 hover:text-amber-600 px-2 py-2 relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:rounded after:bg-amber-600 after:transition-all after:duration-200 after:w-0 hover:after:w-full [&.active]:text-amber-600 [&.active]:after:w-full">
                {{ this.userLanguage.navbar.stories }}
            </a>
            <a href="/progress" [class.active]="currentPage === '/progress'" class="text-base font-medium text-slate-700 hover:text-indigo-600 px-2 py-2 relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:rounded after:bg-indigo-600 after:transition-all after:duration-200 after:w-0 hover:after:w-full [&.active]:text-indigo-600 [&.active]:after:w-full">
                {{ this.userLanguage.navbar.progress }}
            </a>
        </div>
    }

    <!-- Actions Section -->
    <div class="flex items-center gap-3 md:gap-5 min-w-[120px] md:min-w-[240px] justify-end">
        <button 
            class="inline-flex items-center justify-center h-10 md:h-11 border border-slate-200 rounded-full bg-white hover:bg-slate-50 hover:border-slate-300 hover:-translate-y-0.5 transition-all duration-200 text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-200 shadow-sm"
            [class]="isDarkMode ? 'px-3 md:px-5' : 'px-3 md:px-5'"
            (click)="toggleTheme()" 
            aria-label="Toggle theme"
        >
            @if (isDarkMode) {
                <div class="flex items-center gap-2">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-slate-700">
                        <path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5M17.6859 17.69L18.5 18.5M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" 
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class="text-sm font-medium hidden md:inline-block">Light Mode</span>
                </div>
            } @else {
                <div class="flex items-center gap-2">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-slate-700">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" 
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class="text-sm font-medium hidden md:inline-block">Dark Mode</span>
                </div>
            }
        </button>
        
        <app-preferences class="inline-flex"></app-preferences>
    </div>
</nav>