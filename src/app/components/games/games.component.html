<div class="container">
    <app-navbar></app-navbar>
    <div class="main">
        <div class="games-container">
            <div class="header-section">
                <a (click)="goBack()" class="back-link">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Back</span>
                </a>
                <h1>{{ userLanguage.games.title }}</h1>
                <p class="subtitle">Choose a game to enhance your speech skills</p>
            </div>

            <div class="sort-controls">
                <div class="sort-group">
                    <label>Browse by Category:</label>
                    <div class="button-group">
                        <button 
                            [class.active]="sortBy === 'default'"
                            (click)="sortGames('default')" 
                            class="sort-button">
                            All Games
                        </button>
                        <button 
                            [class.active]="sortBy === 'hearing'"
                            (click)="sortGames('hearing')" 
                            class="sort-button hearing">
                            Hearing Games
                        </button>
                        <button 
                            [class.active]="sortBy === 'speaking'"
                            (click)="sortGames('speaking')" 
                            class="sort-button speaking">
                            Speaking Games
                        </button>
                        <button 
                            [class.active]="sortBy === 'phonetics'"
                            (click)="sortGames('phonetics')" 
                            class="sort-button phonetics">
                            Phonetics Games
                        </button>
                    </div>
                </div>
            </div>

            <div class="games-grid">
                <div class="game-card" *ngFor="let game of filteredGames">
                    <div class="game-content">
                        <div class="game-icon" [class]="game.iconClass">
                            <!-- Game background is set via CSS class -->
                        </div>
                        <div class="game-details">
                            <h2>{{ game.title }} {{game.emoji}}</h2>
                            <p>{{ game.description }}</p>
                            <span class="category-badge" [class]="game.category">
                                {{ game.category | titlecase }} Game
                            </span>
                        </div>
                        <a [routerLink]="game.link" class="play-button">
                            <span>Play Now</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M5 12h14M13 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>