@import '../../../styles.sass'

// Using a single consistent blue color palette
$main-blue: #2463EB 
$darker-blue: #24457B
$blue-light: rgba($main-blue, 0.12)
$text-dark: #333333
$text-medium: #555555
$text-light: #888888
$border-color: #E0E0E0
$background-light: #F8FAFD

// Animation for badges
@keyframes glow
  0%
    box-shadow: 0 0 5px #ffeb3b, 0 0 10px #ffeb3b
  50%
    box-shadow: 0 0 15px #ffeb3b, 0 0 30px #ffcc00
  100%
    box-shadow: 0 0 5px #ffeb3b, 0 0 10px #ffeb3b

@keyframes shine
  0%
    background-position: 0% 50%
  50%
    background-position: 100% 50%
  100%
    background-position: 0% 50%

@keyframes popIn
  0%
    transform: scale(0.5)
    opacity: 0
  70%
    transform: scale(1.1)
  100%
    transform: scale(1)
    opacity: 1

@keyframes confetti-fall
  0%
    transform: translateY(-100vh) rotateZ(0deg)
    opacity: 1
  100%
    transform: translateY(100vh) rotateZ(360deg)
    opacity: 1

.container
  width: 100%
  min-height: 100vh
  display: flex
  flex-direction: column
  background-color: $background-light

.main
  flex: 1
  width: 100%
  display: flex
  justify-content: center
  align-items: center
  padding: 40px 20px

.achievement-container
  width: 95%
  max-width: 1000px
  background-color: white
  border-radius: 16px
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08)
  padding: 40px
  position: relative
  
  // Back button positioning and styling
  .back-link
    display: flex
    align-items: center
    gap: 8px
    text-decoration: none
    color: #374151
    cursor: pointer
    padding: 8px
    border-radius: 8px
    transition: all 0.2s ease
    
    &:hover
      background-color: rgba(0, 0, 0, 0.04)
      transform: translateX(-4px)
    
    svg
      width: 24px
      height: 24px
    
    span
      font-size: 16px
      font-weight: 500

  .header
    text-align: center
    margin-bottom: 40px
    margin-top: 20px
    
    .title
      font-size: 32px
      font-weight: 700
      color: $text-dark
      margin: 0

  // Section headers
  h2
    font-size: 24px
    font-weight: 700
    color: $text-dark
    margin-top: 0
    margin-bottom: 20px
    display: flex
    align-items: center
    gap: 10px
    text-align: left

    // Make SVG icons darker for better contrast
    svg
      stroke: $text-dark
      
      path
        stroke: $text-dark
        fill: $text-dark
      
      circle
        stroke: $text-dark

  // Badge sections styling
  .earned-badges, .unearned-badges
    margin-bottom: 40px
    padding: 25px
    border-radius: 12px
    background-color: white
    border: 1px solid $border-color
    
  .badge-grid
    display: grid
    grid-template-columns: repeat(4, 1fr)
    gap: 20px
    margin-bottom: 25px
    
    .badge-card
      position: relative
      background-color: white
      border: 2px solid $border-color
      border-radius: 12px
      padding: 18px
      display: flex
      align-items: center
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08)
      transition: all 0.3s ease
      
      &:hover
        transform: translateY(-5px)
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15)
      
      .badge-icon
        width: 80px
        height: 80px
        background-color: $text-dark
        clip-path: polygon(50% 0%, 93% 25%, 93% 75%, 50% 100%, 7% 75%, 7% 25%)
        margin-right: 15px
        font-size: 28px
        font-weight: 700
        text-align: center
        line-height: 83px
        color: white
      
      .badge-info
        flex: 1
        
        h3
          margin: 0 0 8px 0
          font-size: 16px
          font-weight: 700
          color: $text-dark
      
      .badge-tooltip
        position: absolute
        top: -45px
        left: 50%
        transform: translateX(-50%)
        background-color: rgba(0, 0, 0, 0.85)
        color: white
        padding: 6px 12px
        border-radius: 6px
        font-size: 13px
        font-weight: 500
        white-space: nowrap
        opacity: 0
        visibility: hidden
        transition: opacity 0.2s ease, visibility 0.2s ease
        z-index: 10
        pointer-events: none
        
      &:hover .badge-tooltip
        opacity: 1
        visibility: visible
    
    .unearned
      opacity: 0.75
      
      .badge-icon
        background-color: $text-dark
        opacity: 0.7

  // Special styling for earned badges
  .shiny-badge
    background: white
    border: 2px solid #FFD700
    box-shadow: 0 0 15px rgba(255, 204, 0, 0.5)
    animation: glow 1.5s infinite ease-in-out

    .badge-icon
      background-color: black
      color: #FFD700


  .animate-badge
    animation: popIn 0.6s ease-out

  // Button styling
  .earned-btn-container, .unearned-btn-container
    display: flex
    justify-content: flex-start
  
  .progress-btn
    background-color: $text-dark
    color: white
    border: none
    padding: 14px 28px
    font-size: 15px
    font-weight: 700
    border-radius: 8px
    cursor: pointer
    transition: all 0.2s ease
    
    &:hover
      background-color: black
      transform: translateY(-2px)
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2)

  .progress-data-link
    display: flex
    justify-content: center
    margin-top: 30px
    
    .progress-btn
      padding: 16px 35px
      font-size: 16px
      background-color: $main-blue

// Confetti effect
.confetti
  position: fixed
  top: 0
  width: 12px
  height: 12px
  background-color: rgba(0, 0, 0, 0.8)
  animation: confetti-fall linear infinite
  border-radius: 50%
  opacity: 1
  z-index: 9999
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2)

@media only screen and (max-width: 992px)
  .main
    padding: 30px 20px
    align-items: flex-start
    
  .achievement-container
    padding: 35px 30px
    
    .back-link
      position: static
      margin-bottom: 25px
    
    .header
      margin-top: 0
      
      .title
        font-size: 28px
        margin-bottom: 30px
    
    h2
      font-size: 22px
    
    .badge-grid
      grid-template-columns: repeat(3, 1fr)
      
      .badge-card
        .badge-icon
          width: 70px
          height: 70px
          font-size: 24px
          line-height: 73px

@media only screen and (max-width: 768px)
  .main
    padding: 20px 15px
  
  .achievement-container
    padding: 25px 20px
    border-radius: 12px
    
    .back-link
      margin-bottom: 20px
      
      span
        font-size: 14px
    
    .header .title
      font-size: 24px
      margin-bottom: 25px
      
    .earned-badges, .unearned-badges
      padding: 20px 15px
      margin-bottom: 30px
    
    .badge-grid
      grid-template-columns: repeat(2, 1fr)
      gap: 15px
      margin-bottom: 20px
      
      .badge-card
        padding: 15px
        
        .badge-icon
          width: 60px
          height: 60px
          font-size: 20px
          line-height: 63px
          margin-right: 10px
        
        .badge-info h3
          font-size: 14px
    
    .progress-btn
      padding: 12px 20px
      font-size: 14px
    
    .progress-data-link .progress-btn
      padding: 14px 25px
      width: 80%

@media only screen and (max-width: 480px)
  .achievement-container
    .badge-grid
      grid-template-columns: 1fr
    
    .progress-data-link .progress-btn
      width: 100%