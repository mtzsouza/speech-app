<!-- Profile button to open the sidebar, only visible when sidebar is closed -->
<button class="profile-btn" (click)="toggleSidebar()" [class.hidden]="isSidebarOpen">
  <img src="assets/profile.svg" alt="Profile Icon" class="profile-icon" />
</button> 

<!-- Sidebar -->
<div class="sidebar" [class.open]="isSidebarOpen">
  <div class="sidebar-header">
    <!-- Close button and User profile -->
    <button class="close-btn" (click)="toggleSidebar()">&#10006;</button>
    <div class="user-info">
      <p>{{ userLanguage.preferences.greeting }}{{ username || 'Anon' }}</p>  <!-- Display the user's username -->
      <img src="assets/profile.svg" alt="Profile Icon" class="profile-icon" />
    </div>
  </div>

  <div class="sidebar-content">
    <!-- Static buttons -->
    <button class="sidebar-btn" (click)="navigateTo('/update-name')">{{ userLanguage.preferences.updateUsername }}</button>
    <button class="sidebar-btn" (click)="navigateTo('/change-password')">{{ userLanguage.preferences.changePassword }}</button>
  
<!-- Display Theme Dropdown -->
<button class="sidebar-btn" (click)="toggleDropdown('theme')">
  {{ userLanguage.preferences.displayTheme }}{{ getThemeLabel() }}
  <span class="arrow" [class.open]="dropdowns.theme">&#9662;</span>
</button>
<div *ngIf="dropdowns.theme" class="dropdown-content">
  <button class="dropdown-item" (click)="setTheme('light')">
    {{ userLanguage.preferences.light }} <span *ngIf="theme === 'light'">✓</span>
  </button>
  <button class="dropdown-item" (click)="setTheme('dark')">
    {{ userLanguage.preferences.dark }}<span *ngIf="theme === 'dark'">✓</span>
  </button>
  <button class="dropdown-item" (click)="setTheme('default')">
    {{ userLanguage.preferences.default }}<span *ngIf="theme === 'default'">✓</span>
  </button>
</div>

<!-- Language Dropdown -->
<button class="sidebar-btn" (click)="toggleDropdown('language')">
  {{ userLanguage.preferences.language }}{{ getLanguageLabel() }}
  <span class="arrow" [class.open]="dropdowns.language">&#9662;</span>
</button>
<div *ngIf="dropdowns.language" class="dropdown-content">
  <button class="dropdown-item" (click)="setLanguage('english')">
    {{ userLanguage.preferences.english }}<span *ngIf="language === 'english'">✓</span>
  </button>
  <button class="dropdown-item" (click)="setLanguage('spanish')">
    {{ userLanguage.preferences.spanish }}<span *ngIf="language === 'spanish'">✓</span>
  </button>
  <button class="dropdown-item" (click)="setLanguage('default')">
    {{ userLanguage.preferences.default }}<span *ngIf="language === 'default'">✓</span>
  </button>
</div>


    <button class="signout-btn" (click)="accountStatus()">
      {{ isSignedIn ? userLanguage.preferences.signout : userLanguage.preferences.signin }}
    </button>
  </div>
</div>
